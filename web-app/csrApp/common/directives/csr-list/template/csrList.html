<uib-accordion-group class="csr-list-container" role="group" is-open="isOpen">
    <uib-accordion-heading>
        <div class="item-group row">
            <div class="row">
                <div class="group-title col-sm-11 col-xs-11">
                    <i class="group-toggle-indicator fa" ng-class="{'fa-caret-up':isOpen, 'fa-caret-down':!isOpen}"> </i>
                    <span class="group-title-text" ng-click="openGroup(itemgroup.groupId)">{{itemgroup.info.title|i18n}}</span>
                    <div class="badge" ng-if="!isOpen">
                        {{completedItem().length + "/" + itemgroup.items.length}}
                    </div>
                </div>
                <div class="group-title-icon col-sm-1 col-xs-1">
                    <i role="button" tabindex="0" class="group-info fa fa-file-text" href="#" ng-click="displayGroupInfo(itemgroup.groupId, $event)"></i>
                </div>
            </div>
            <div class="row">
                <div class="group-progress col-sm-12" ng-if="isOpen">
                    <uib-progressbar ng-class="{'normal':completedItem().length+1>data.length/2}" max="itemgroup.items.length" value="completedItem().length">
                        <span>{{completedItem().length}} / {{itemgroup.items.length}}</span>
                    </uib-progressbar>
                </div>
            </div>
        </div>
    </uib-accordion-heading>
    <div class="row">
        <div class="list-body-container box">
            <div class="list-body" role="list" aria-label="{{itemgroup.itemtitle|i18n}}">
                <div class="row list-item" ng-repeat="row in itemgroup.items" ng-click="selectItem(itemgroup, row, $event)" role="listitem">
                    <div ng-repeat="key in itemgroup.header" class="{{getStyle(key)}}" >
                        <h3 ng-if="key==='title'">{{row[key]|i18n}}</h3>
                        <span ng-if="key==='state'" ng-class="{'badge pending':key==='state'&&row[key]==='Pending',
                            'badge approved':key==='state'&&row[key]==='Completed'}">
                            {{row[key]|i18n}}
                        </span>
                        <csr-readmore ng-if="key==='description'">{{row[key]|i18n}}</csr-readmore>
                    </div>
                </div>
            </div>
        </div>
    </div>
</uib-accordion-group>
