/*!
 * angular-dateParser 1.1.0
 * https://github.com/dnasir/angular-dateParser
 * Copyright (c) 2016, Dzulqarnain Nasir
 * Licensed under: MIT
 */
var NgDateParser;!function(e){var t=function(){function e(){var e=this;this.$get=function(t,a,r){return e.$locale=a,e.$dateFilter=t("date"),e.updateFromLocale(),e._watchLocale&&r.$watchCollection(function(){return a},function(){e.updateFromLocale()}),e.parse},this.parse=function(t,a){if(angular.isDate(t))return t;if(angular.isString(t))try{if(!a.length)return new Date(t);null!=e.datetimeFormats&&e.datetimeFormats[a]&&(a=e.datetimeFormats[a]);for(var r=new Date,n=0,i=0,l="",s=null,o=null,h=null,g=null,u=0,f=0,c=0,d=0,m="am",v=0,w=!1;i<a.length;){l=a.charAt(i);var M="";if("'"!==a.charAt(i)){for(;a.charAt(i)===l&&i<a.length;)M+=a.charAt(i++);if("yyyy"===M||"yy"===M||"y"===M){var I,$;if("yyyy"===M&&(I=4,$=4),"yy"===M&&(I=2,$=2),"y"===M&&(I=2,$=4),null===(s=e.getInteger(t,n,I,$)))throw"Invalid year";n+=Math.max(s.toString().length,M.length),2===s.toString().length&&(s=s>70?s-0+1900:s-0+2e3)}else if("ww"===M||"w"===M)o=e.getInteger(t,n,M.length,2),n+=Math.max(o.toString().length,M.length);else if("MMMM"===M||"MMM"===M){h=0;for(var p=0;p<e.monthNames.length;p++){var y=e.monthNames[p];if(t.substring(n,n+y.length).toLowerCase()===y.toLowerCase()){(h=p+1)>12&&(h-=12),n+=y.length;break}}if(1>h||h>12)throw"Invalid month"}else if("EEEE"===M||"EEE"===M)for(var D=0;D<e.dayNames.length;D++){var b=e.dayNames[D];if(t.substring(n,n+b.length).toLowerCase()===b.toLowerCase()){n+=b.length;break}}else if("MM"===M||"M"===M){if(null===(h=e.getInteger(t,n,M.length,2))||1>h||h>12)throw"Invalid month";n+=Math.max(h.toString().length,M.length)}else if("dd"===M||"d"===M){if(null===(g=e.getInteger(t,n,M.length,2))||1>g||g>31)throw"Invalid date";n+=Math.max(g.toString().length,M.length)}else if("HH"===M||"H"===M){if(null===(u=e.getInteger(t,n,M.length,2))||0>u||u>23)throw"Invalid hours";n+=Math.max(u.toString().length,M.length)}else if("hh"===M||"h"===M){if(null===(u=e.getInteger(t,n,M.length,2))||1>u||u>12)throw"Invalid hours";n+=Math.max(u.toString().length,M.length)}else if("mm"===M||"m"===M){if(null===(f=e.getInteger(t,n,M.length,2))||0>f||f>59)throw"Invalid minutes";n+=Math.max(f.toString().length,M.length)}else if("ss"===M||"s"===M){if(null===(c=e.getInteger(t,n,M.length,2))||0>c||c>59)throw"Invalid seconds";n+=Math.max(c.toString().length,M.length)}else if("sss"===M){if(null===(d=e.getInteger(t,n,3,3))||0>d||d>999)throw"Invalid milliseconds";n+=3}else if("a"===M){if(8===t.length){if("am"===t.substring(n,n+2).toLowerCase())m="AM";else{if("pm"!==t.substring(n,n+2).toLowerCase())throw"Invalid AM/PM";"pm"===t.substring(n,n+2).toLowerCase()&&(m="PM")}n+=2}if(10===t.length){if("a.m."===t.substring(n,n+4).toLowerCase())m="a.m.";else{if("p.m."!==t.substring(n,n+4).toLowerCase())throw"Invalid a.m./p.m.";"p.m."===t.substring(n,n+4).toLowerCase()&&(m="p.m.")}n+=4}}else if("Z"===M){if(w=!0,"Z"===t[n])v=0,n+=1;else if(":"===t[n+3]){var F=t.substring(n,n+6);v=60*parseInt(F.substr(0,3),10)+parseInt(F.substr(4,2),10),n+=6}else{F=t.substring(n,n+5);v=60*parseInt(F.substr(0,3),10)+parseInt(F.substr(3,2),10),n+=5}if(v>720||-720>v)throw"Invalid timezone"}else{if(t.substring(n,n+M.length)!==M)throw"Pattern value mismatch";n+=M.length}}else{for(;"'"!==a.charAt(++i)&&i<a.length;)M+=a.charAt(i);if(t.substring(n,n+M.length)!==M)throw"Pattern value mismatch";n+=M.length,i++}}if(n!==t.length)throw"Pattern value mismatch";if(2===h)if(s%4==0&&s%100!=0||s%400==0){if(g>29)throw"Invalid date"}else if(g>28)throw"Invalid date";if((4===h||6===h||9===h||11===h)&&g>30)throw"Invalid date";12>u&&"PM"===m?u+=12:u>11&&"AM"===m&&(u-=12);var P=new Date(s||r.getFullYear(),null!==h?h-1:r.getMonth(),g||r.getDate(),u,f,c,d);if(null!==o){var L=e.getDateOfISOWeek(o,s||r.getFullYear(),h,g);if(!L)throw"Invalid week number or week number/date mismatch";null!==h&&L.setMonth(h-1),null!==g&&L.setDate(g),L.setHours(u),L.setMinutes(f),L.setSeconds(c),L.setMilliseconds(d),P=L}return w?new Date(P.getTime()-6e4*(v+P.getTimezoneOffset())):P}catch(e){return void console.info(e)}},this.cache=[],this._watchLocale=!1,this.$get.$inject=["$filter","$locale","$rootScope"]}return e.prototype.updateFromLocale=function(){this.datetimeFormats=this.$locale.DATETIME_FORMATS,this.monthNames=this.datetimeFormats.MONTH.concat(this.datetimeFormats.SHORTMONTH),this.dayNames=this.datetimeFormats.DAY.concat(this.datetimeFormats.SHORTDAY)},e.prototype.watchLocale=function(e){return angular.isDefined(e)?void(this._watchLocale=e):this._watchLocale},e.prototype.getInteger=function(e,t,a,r){var n=e.substring(t),i=a+"_"+r,l=this.cache[i];l||(l=new RegExp("^(\\d{"+a+","+r+"})"),this.cache[i]=l);var s=l.exec(n);return s?Number(s[1]):null},e.prototype.getDateOfISOWeek=function(e,t,a,r){if(!(1>e)){var n=new Date(t,0,1+7*(e-1)),i=n;if(4>=n.getDay()?i.setDate(n.getDate()-n.getDay()+1):i.setDate(n.getDate()+8-n.getDay()),i.getFullYear()===t&&(null===a||i.getMonth()===a-1)){if(null!==r){var l=i.getDate();if(l>r&&r>l+6)return}return i}}},e}();angular.module("dateParser",[]).provider("$dateParser",t)}(NgDateParser||(NgDateParser={})),function(e){var t=function(){function e(e,t,a){var r=this;this.dateFilter=e,this.$dateParser=t,this.$locale=a,this.restrict="A",this.require="ngModel",this.scope={ngModel:"="},this.link=function(e,t,a,n){var i;a.$observe("dateParser",function(e){i=e,n.$render()}),e.$watchCollection(function(){return r.$locale},function(e,t){angular.equals(e,t)||n.$render()}),n.$parsers.unshift(function(e){var t=r.$dateParser(e,i);return n.$setValidity("date",!e||angular.isDate(t)),t}),n.$render=function(){var e=""===n.$modelValue||null===n.$modelValue||n.$modelValue;t.val(e?r.dateFilter(n.$modelValue,i):void 0),r.scope.ngModel=n.$modelValue},n.$formatters.push(function(e){return n.$setValidity("date",!e||angular.isDate(e)),angular.isDate(e)?r.dateFilter(e,i):""})}}return e.factory=function(){var t=function(t,a,r){return new e(t,a,r)};return t.$inject=["dateFilter","$dateParser","$locale"],t},e}();angular.module("dateParser").directive("dateParser",t.factory())}(NgDateParser||(NgDateParser={}));
//# sourceMappingURL=angular-dateparser.min.js.map