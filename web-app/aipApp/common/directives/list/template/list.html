<uib-accordion-group class="aip-list-container" role="group" is-open="isOpen" aria-label="  ">
    <uib-accordion-heading id="heading-{{itemgroup.id}}">
        <div class="item-group row">
            <div class="row">
                <div class="group-title col-sm-12 col-xs-12">
                    <h2 aria-label="{{itemgroup.title}} {{completedItem().length}} of {{itemgroup.items.length}} completed" id="h2-{{itemgroup.id}}" class="group-title-text" tabindex="-1"
                        ng-click="openGroup(itemgroup.id)" aria-expanded="{{isOpen}}">{{itemgroup.title|i18n_aip}}
                    <span class="badge" ng-if="!isOpen" aria-label="{{completedItem().length}} of {{itemgroup.items.length}} completed">
                        {{completedItem().length + "/" + itemgroup.items.length}}
                    </span>
                    <i role="presentation" class="group-toggle-indicator fa" ng-class="{'fa-caret-up':isOpen, 'fa-caret-down':!isOpen}"></i>
                    </h2>
                </div>
            </div>
            <div class="row">
                <div class="group-progress col-sm-12" ng-if="isOpen">
                    <uib-progressbar ng-class="{'normal':completedItem().length+1>data.length/2}" max="itemgroup.items.length" value="completedItem().length">
                        <span id="progressbar">{{completedItem().length}} of {{itemgroup.items.length}}</span>
                    </uib-progressbar>
                </div>
            </div>
            <div class="row instruction">
                <div class="group-title-icon col-sm-1 col-xs-1">
                    <span class="group-instructions" role="link" ng-focus="focusing($event)" tabindex="0" href="javascript:void(0);"
                          ng-click="displayGroupInfo(itemgroup.groupId, $event)" aria-label="Group Instruction">Instructions</span>
                </div>
            </div>
        </div>
    </uib-accordion-heading>
    <div class="row">
        <div class="list-body-container box">
            <div id="group-{{itemgroup.id}}" class="list-body" role="list">
                <div id="item-{{itemgroup.id}}-{{row.id}}" aria-labelledby="group-{{itemgroup.id}}"
                     class="row list-item" ng-repeat="row in itemgroup.items" ng-click="selectItem(itemgroup, row, $event)" role="listitem">
                    <div ng-repeat="key in itemgroup.header" class="{{getStyle(key)}}">
                        <h3 ng-if="key==='title'">{{row[key]|i18n_aip}}</h3>
                        <span ng-if="key==='state'" ng-class="{'badge pending':key==='state'&&row[key]==='aip.status.pending',
                            'badge approved':key==='state'&&row[key]==='aip.status.complete'}">
                            {{row[key]|i18n_aip}}
                        </span>
                        <aip-readmore class="aipReadmore" ng-if="key==='description'">{{row[key]}}</aip-readmore>
                    </div>
                </div>
            </div>
        </div>
    </div>
</uib-accordion-group>
