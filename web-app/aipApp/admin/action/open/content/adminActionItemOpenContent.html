<div id="openActionItemContent">
    <div class="actionItemContentNoInfo row" ng-if="vm.isNoTemplate()">
        <div class="contentText">
            <div class="row">

                <div class="col-xs-10 col-sm-8">
                    <h2>{{'aip.common.text.template'|i18n_aip}}</h2>
                    {{'aip.admin.action.open.tab.content.noItem1'|i18n_aip}} <br />
                    {{'aip.admin.action.open.tab.content.noItem2'|i18n_aip}}
               </div>

                <div class="control col-xs-2 col-sm-4">
                    <div class="h2-container">
                        <button name="Edit" type="button" class="btn btn-default edit" ng-click="vm.selectTemplate()" aria-label="">
                            <span class="icon icon-edit-CO"></span>
                            <span class="button-text hidden-sm-down">{{'aip.admin.action.open.tab.content.edit'|i18n_aip}}</span>
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <div class="actionItemContent row" ng-if="!vm.isNoTemplate() && vm.templateSelect">
        <div class="contentContainer">
            <div class="row input-actionItem">
                <label for="actionItemTemplate" class="templateSelect required" id="actionItemTemplateSelector">{{'aip.admin.action.open.tab.content.templateContent'|i18n_aip}}</label>
            </div>
            <div class="row">
                <select id="actionItemTemplate" class="actionItemSelect" xe-data="" aria-label="Template" required aria-required="true" ng-model="vm.selectedTemplate" ng-change="vm.getRules()">
                    <option ng-repeat="item in vm.templates" value="{{item.id}}">{{item.title}}
                        ({{vm.templateSource}})</option>
                </select>
            </div>

        </div>

        <div class="contentContainer" ng-if="!vm.isNoTemplateSelected()">
            <div class="row">
                <label for="templateContent" class="titleValue" id="template-content">{{vm.actionItem.actionItemTemplateName}} {{'aip.common.text.content'|i18n_aip}}</label>
            </div>
            <div class="row">
                <textarea id="templateContent" ng-required="true" aria-required="true" name="templateContent" ckeditor="ckEditorConfig"
                          ng-model="vm.actionItem.actionItemContent"></textarea>
            </div>

            <div class="contentContainer">

                <div class="row">
                    <aip-status-rule rules="vm.rules" status="vm.statuses"></aip-status-rule>
                </div>
            </div>
        </div>
        <!--
        <div class="control row">
            <div class="col-sm-3 offset-sm-9 col-xs-12 templateButton">
                <span>
                    <button name="Cancel" type="button" class="btn btn-default" ng-click="vm.cancel('content')">{{'aip.common.cancel'|i18n_aip}}</button>
                </span>
                <span>
                    <button name="Save" type="button" class="btn btn-primary" ng-click="vm.saveTemplate()" ng-disabled="!vm.saveValidate()">
                        {{'aip.common.saveandreturn'|i18n_aip}}
                    </button>
                </span>
            </div>

        </div>
        -->

        <div class="groupControl">
            <div class="row">
                <div class="col-sm-offset-8 col-xs-6 col-sm-2 groupButton">
                    <button name="Cancel" type="button" class="btn btn-default" ng-click="vm.cancel('content')">{{"aip.common.cancel"|i18n_aip}}</button>
                </div>
                <div class="col-xs-6 col-sm-2 groupButton">
                    <button type="button" name="Save" class="btn btn-primary" ng-disabled="!vm.saveValidate()" ng-click="vm.saveTemplate()">
                        {{"aip.common.saveandreturn"|i18n_aip}}
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="actionItemContent row" ng-if="!vm.isNoTemplate() && vm.actionItem.actionItemTemplateId && !vm.templateSelect">
        <div class="contentContainer">
            <div class="row">
                <div class="col-xs-10 col-sm-8">
                    <h2>{{'aip.common.text.template'|i18n_aip}}</h2>
                </div>
                <div class="control col-xs-2 col-sm-4">
                    <div class="h2-container">
                        <button name="Edit" type="button" class="btn btn-default edit" ng-click="vm.selectTemplate()" aria-label="">
                            <span class="icon icon-edit-CO"></span>
                            <span class="button-text hidden-sm-down">{{'aip.admin.action.open.tab.content.edit'|i18n_aip}}</span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-8">
                    {{vm.actionItem.actionItemTemplateName||'aip.admin.action.open.tab.content.templateContent'|i18n_aip}} ({{vm.templateSource}})</span>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-12">
                    <h2>{{vm.actionItem.actionItemTemplateName}} {{'aip.common.text.content'|i18n_aip}}</h2>
                    <div ng-if="!vm.isNoContent()">
                        <div class="contentPreview" data-ng-bind-html="vm.trustAsHtml(vm.actionItem.actionItemContent)"></div>
                    </div>
                    <div ng-if="vm.isNoContent()">
                        <span>{{'aip.admin.action.open.tab.content.noContent'|i18n_aip}}</span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-xs-12 col-sm-12">
                    <h2>{{'aip.common.text.statusRules'|i18n_aip}}</h2>
                    <div class="contentContainer">
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>